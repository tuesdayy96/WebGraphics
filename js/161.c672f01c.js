"use strict";(self["webpackChunkvue_three_exp"]=self["webpackChunkvue_three_exp"]||[]).push([[161],{161:function(e,t,i){i.r(t),i.d(t,{default:function(){return l}});var n=i(252);const s={class:"ExpView03"};function o(e,t,i,o,r,h){return(0,n.wg)(),(0,n.iD)("div",s)}var r=i(477),h=i(365),a={name:"ExpView03",data(){return{}},methods:{main(){this.container=document.querySelector(".ExpView03"),this.renderer=new r.CP7({antialias:!0}),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.renderer.setPixelRatio(devicePixelRatio),this.container.appendChild(this.renderer.domElement),this.scene=new r.xsS,this.scene.background=new r.Ilk(0);const e=45,t=this.container.clientWidth/this.container.clientHeight,i=.01,n=500;this.camera=new r.cPb(e,t,i,n),this.camera.position.set(15,20,5),this.scene.add(this.camera),this.controls=new h.z(this.camera,this.renderer.domElement),this.light=new r.Ox3({color:16777215,intencity:1}),this.light.position.set(-1,2,4),this.scene.add(this.light);const s=new r._12(20,20),o=new r.vBJ({side:r.ehD}),a=new r.Kj0(s,o);this.scene.add(a),a.rotateX(-Math.PI/2),a.visible=!1,a.name="plane";const c=new r.Kj0(new r._12(1,1),new r.vBJ({side:r.ehD}));this.scene.add(c),c.rotateX(-Math.PI/2),c.position.set(.5,0,.5);const d=new r.FM8,l=new r.iMs;let p;window.addEventListener("mousemove",(e=>{d.x=e.clientX/window.innerWidth*2-1,d.y=-e.clientY/window.innerHeight*2+1,l.setFromCamera(d,this.camera),p=l.intersectObjects(this.scene.children),p.forEach((e=>{if("plane"===e.object.name){const t=(new r.Pa4).copy(e.point).floor().addScalar(.5);c.position.set(t.x,0,t.z);const i=this.Meshs.find((e=>e.position.x===c.position.x&&e.position.z===c.position.z));i?c.material.color.setHex(16711680):c.material.color.setHex(16777215)}}))}));const w=new r.Kj0(new r.xo$(.5,4,2),new r.vBJ({color:"#ff0000",wireframe:!0}));this.Meshs=[],window.addEventListener("mousedown",(()=>{const e=this.Meshs.find((e=>e.position.x===c.position.x&&e.position.z===c.position.z));if(e){if(this.scene.children.length>5){const e=this.scene.children.length-1;this.scene.remove(this.scene.children[e]),this.Meshs.pop()}}else p.forEach((e=>{if("plane"===e.object.name){const e=w.clone();e.position.copy(c.position),this.scene.add(e),this.Meshs.push(e)}}))}));const m=new r.VLJ(20,20);this.scene.add(m)},render(e){this.renderer.render(this.scene,this.camera),requestAnimationFrame(this.render),this.Meshs.forEach((t=>{t.rotation.x=e/1e3,t.rotation.z=e/1e3,t.position.y=1*Math.abs(Math.sin(e/1e3))})),this.controls.update()}},mounted(){this.main(),this.render()}},c=i(744);const d=(0,c.Z)(a,[["render",o],["__scopeId","data-v-4a9b1391"]]);var l=d}}]);
//# sourceMappingURL=161.c672f01c.js.map